
<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="">FRELODY</a>
    </div>
</div>

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<div class="nav-scrollable">
    <nav class="h-100 d-flex flex-column">
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                <span class="bi bi-card-list-nav-menu" aria-hidden="true"></span> Dashboard
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link align-items-center" href="/songs-library" Match="NavLinkMatch.Prefix">
                <span class="bi bi-collection-play-fill-nav-menu" aria-hidden="true"></span> library
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="compose" Match="NavLinkMatch.Prefix">
                <span class="bi bi-pencil-square-nav-menu" aria-hidden="true"></span> compose
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="/chords" Match="NavLinkMatch.Prefix">
                <span class="bi bi-music-note-list-nav-menu" aria-hidden="true"></span> chords
            </NavLink>
        </div>
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="/users" Match="NavLinkMatch.Prefix">
                <span class="bi bi-people-nav-menu" aria-hidden="true"></span> Accounts
            </NavLink>
        </div>

        <div class="nav-item px-3 dropdown dropup mt-auto">
            <button class="nav-link dropdown-toggle w-100 text-start d-flex align-items-center" data-bs-toggle="dropdown" aria-expanded="false">
                <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center me-2" style="width: 24px; height: 24px;">
                    <span class="text-white fw-bold" style="font-size: 0.7rem;">JD</span>
                </div>
                Account
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/user-profile">
                    <i class="bi bi-person me-2"></i>View Profile
                </a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#">
                    <i class="bi bi-palette me-2"></i>Theme
                </a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="#">
                    <i class="bi bi-box-arrow-right me-2"></i>Log out
                </a></li>
            </ul>
        </div>
    </nav>
</div>
<script>
    //Replacing onclick="document.querySelector('.navbar-toggler').click()"
    document.addEventListener('click', e => {
      const toggler = document.querySelector('.navbar-toggler');
      if (!toggler) return;
      // Only act on small screens where the checkbox controls visibility
      if (window.matchMedia('(max-width: 640px)').matches) {
          // Check if it's a NavLink or a dropdown item
          const navLink = e.target.closest('.nav-item a.nav-link');
          const dropdownItem = e.target.closest('.dropdown-item');

          if (navLink || dropdownItem) {
              toggler.checked = false;
          }
      }
  });
</script>
